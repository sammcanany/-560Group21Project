@using System.Globalization
@using Group21ProjectMVC.Models.FlightViewModels
@model FlightSearchViewModel;
@{
    ViewData["Title"] = "Flight";
}
<ul class="departure-flights">
    @foreach (ApplicationFlight flight in Model.DepartureFlights)
    {
        TimeSpan diff = flight.ArrivalTime - flight.DepartureTime;
        string formatted = string.Format(CultureInfo.CurrentCulture,"{0}h {1}m",diff.Hours,diff.Minutes);
        <li id="@flight.FlightNumber" class="pt-4">
            <div class="row border-bottom pb-4 ps-4 pe-4">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            <p class="medium-text mb-0">@flight.DepartingAirportCode</p>
                            <p class="large-text">@flight.DepartureTime.ToString("hh:mm tt")</p>
                        </div>
                        <div class="col">
                            <i class="fas fa-arrow-right fa-xl"></i>
                        </div>
                        <div class="col">
                            <p class="medium-text mb-0">@flight.DestinationAirportCode</p>
                            <p class="large-text">@flight.ArrivalTime.ToString("hh:mm tt")</p>
                        </div>
                        <div class="col">
                            <p class="medium-text">@formatted</p>
                        </div>
                        <div class="col">
                            <p class="medium-text">Nonstop</p>
                        </div>
                    </div>
                    <div class="row">
                        <p class="small-text">@flight.FlightNumber</p>
                    </div>

                </div>
                <div class="col">
                    <button class="w-100 h-100 btn btn-light rounded border border-dark">
                        <p class="medium-text">Round Trip</p>
                        <p class="large-text text-primary">@String.Format("{0:C0}",flight.Price)</p>
                    </button>
                </div>
            </div>
        </li>
    }
</ul>
<input type="hidden" name="">
@*@if(@Model.ReturnDate != null)
    {
    //show return flight div
    }
    else
    {
    <button class="btn btn-primary w-100" type="submit" asp-controller="Search" asp-action="Checkout">Search</button>
    }*@

